<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.26">
    <link rel="icon" href="/images/favicon.ico"><title>正则表达式 | 学无止境</title><meta name="description" content="我的技术站">
    <link rel="preload" href="/docs/assets/js/runtime~app.1f19ce3a.js" as="script"><link rel="preload" href="/docs/assets/css/styles.50e973a8.css" as="style"><link rel="preload" href="/docs/assets/js/567.e7c588a2.js" as="script"><link rel="preload" href="/docs/assets/js/app.8018ca29.js" as="script">
    <link rel="stylesheet" href="/docs/assets/css/styles.50e973a8.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/docs/" class=""><!----><span class="site-name">学无止境</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><nav class="navbar-links can-hide"><!--[--><div class="navbar-links-item"><a href="/docs/" class="nav-link" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="笔记"><span class="title">笔记</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="笔记"><span class="title">笔记</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/docs/html_css" class="nav-link" aria-label="HTML / CSS 笔记"><!--[--><!--]--> HTML / CSS 笔记 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/docs/react" class="nav-link" aria-label="React"><!--[--><!--]--> React <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/docs/nestjs" class="nav-link" aria-label="Nestjs"><!--[--><!--]--> Nestjs <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/docs/regular-expression" class="nav-link router-link-active" aria-label="正则表达式"><!--[--><!--]--> 正则表达式 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/docs/datastructure" class="nav-link" aria-label="数据结构"><!--[--><!--]--> 数据结构 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/docs/ecma-six" class="nav-link" aria-label="Es6"><!--[--><!--]--> Es6 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/docs/dom" class="nav-link" aria-label="Dom"><!--[--><!--]--> Dom <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/docs/webpack" class="nav-link" aria-label="Webpack"><!--[--><!--]--> Webpack <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/docs/vue3" class="nav-link" aria-label="Vue3"><!--[--><!--]--> Vue3 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/docs/axios" class="nav-link" aria-label="Ajax"><!--[--><!--]--> Ajax <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/docs/typescript" class="nav-link" aria-label="TypeScript"><!--[--><!--]--> TypeScript <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/docs/nodejsplus" class="nav-link" aria-label="Node.js 进阶"><!--[--><!--]--> Node.js 进阶 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/docs/jquery" class="nav-link" aria-label="jQuery"><!--[--><!--]--> jQuery <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="面经"><span class="title">面经</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="面经"><span class="title">面经</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/docs/mianshi" class="nav-link" aria-label="面试总结"><!--[--><!--]--> 面试总结 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="Search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><a href="/docs/" class="nav-link" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="笔记"><span class="title">笔记</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="笔记"><span class="title">笔记</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/docs/html_css" class="nav-link" aria-label="HTML / CSS 笔记"><!--[--><!--]--> HTML / CSS 笔记 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/docs/react" class="nav-link" aria-label="React"><!--[--><!--]--> React <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/docs/nestjs" class="nav-link" aria-label="Nestjs"><!--[--><!--]--> Nestjs <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/docs/regular-expression" class="nav-link router-link-active" aria-label="正则表达式"><!--[--><!--]--> 正则表达式 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/docs/datastructure" class="nav-link" aria-label="数据结构"><!--[--><!--]--> 数据结构 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/docs/ecma-six" class="nav-link" aria-label="Es6"><!--[--><!--]--> Es6 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/docs/dom" class="nav-link" aria-label="Dom"><!--[--><!--]--> Dom <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/docs/webpack" class="nav-link" aria-label="Webpack"><!--[--><!--]--> Webpack <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/docs/vue3" class="nav-link" aria-label="Vue3"><!--[--><!--]--> Vue3 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/docs/axios" class="nav-link" aria-label="Ajax"><!--[--><!--]--> Ajax <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/docs/typescript" class="nav-link" aria-label="TypeScript"><!--[--><!--]--> TypeScript <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/docs/nodejsplus" class="nav-link" aria-label="Node.js 进阶"><!--[--><!--]--> Node.js 进阶 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/docs/jquery" class="nav-link" aria-label="jQuery"><!--[--><!--]--> jQuery <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="面经"><span class="title">面经</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="面经"><span class="title">面经</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/docs/mianshi" class="nav-link" aria-label="面试总结"><!--[--><!--]--> 面试总结 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--[--><p class="sidebar-heading sidebar-item">正则表达式</p><ul class=""><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_1-元字符" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="1.元字符"><!--[--><!--]--> 1.元字符 <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_1-1-限定符" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="1.1  ? 限定符"><!--[--><!--]--> 1.1  ? 限定符 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_1-2-限定符" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="1.2  * 限定符"><!--[--><!--]--> 1.2  * 限定符 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_1-3-限定符" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="1.3  + 限定符"><!--[--><!--]--> 1.3  + 限定符 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_1-4-限定符" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="1.4  {} 限定符"><!--[--><!--]--> 1.4  {} 限定符 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_1-5-限定符-原子组" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="1.5  () 限定符（原子组）"><!--[--><!--]--> 1.5  () 限定符（原子组） <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_1-6-或运算符" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="1.6  | 或运算符"><!--[--><!--]--> 1.6  | 或运算符 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_1-7-字符类-原子表" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="1.7  [] 字符类（原子表）"><!--[--><!--]--> 1.7  [] 字符类（原子表） <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_1-8-限定符-用于原子表" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="1.8  ^ 限定符（用于原子表）"><!--[--><!--]--> 1.8  ^ 限定符（用于原子表） <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_1-9-d" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="1.9  \d"><!--[--><!--]--> 1.9  \d <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_1-10-w" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="1.10  \w"><!--[--><!--]--> 1.10  \w <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_1-11-s" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="1.11  \s"><!--[--><!--]--> 1.11  \s <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_1-12-d、-w、-s" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="1.12  \D、\W、\S"><!--[--><!--]--> 1.12  \D、\W、\S <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_1-13-限定符" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="1.13  . 限定符"><!--[--><!--]--> 1.13  . 限定符 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_1-14-、-限定符" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="1.14  ^、$ 限定符"><!--[--><!--]--> 1.14  ^、$ 限定符 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_1-15-b" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="1.15  \b"><!--[--><!--]--> 1.15  \b <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_1-16-贪婪与懒惰匹配" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="1.16  贪婪与懒惰匹配"><!--[--><!--]--> 1.16  贪婪与懒惰匹配 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_2-深入正则" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="2.深入正则"><!--[--><!--]--> 2.深入正则 <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_2-1-正则的一些应用" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="2.1 正则的一些应用"><!--[--><!--]--> 2.1 正则的一些应用 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_2-2-字面量创建正则表达式" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="2.2 字面量创建正则表达式"><!--[--><!--]--> 2.2 字面量创建正则表达式 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_2-3-对象创建正则表达式" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="2.3 对象创建正则表达式"><!--[--><!--]--> 2.3 对象创建正则表达式 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_2-4-转义" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="2.4 转义"><!--[--><!--]--> 2.4 转义 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_2-5-字符边界约束" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="2.5 字符边界约束"><!--[--><!--]--> 2.5 字符边界约束 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_2-6-match-用法" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="2.6 match 用法"><!--[--><!--]--> 2.6 match 用法 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_2-7-d、-s-实例" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="2.7  \d、\s 实例"><!--[--><!--]--> 2.7  \d、\s 实例 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_2-8-w-实例-判断邮箱-判断用户名" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="2.8  \w 实例：判断邮箱 / 判断用户名"><!--[--><!--]--> 2.8  \w 实例：判断邮箱 / 判断用户名 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_2-9-精巧地匹配所有字符" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="2.9 精巧地匹配所有字符"><!--[--><!--]--> 2.9 精巧地匹配所有字符 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_2-10-i-与-g-模式修正符" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="2.10 i 与 g 模式修正符"><!--[--><!--]--> 2.10 i 与 g 模式修正符 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_2-11-m-多行匹配修正符-优雅" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="2.11 m 多行匹配修正符（优雅）"><!--[--><!--]--> 2.11 m 多行匹配修正符（优雅） <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_2-12-汉字与字符属性-u" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="2.12 汉字与字符属性 /u"><!--[--><!--]--> 2.12 汉字与字符属性 /u <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_2-13-lastindex-属性的作用" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="2.13 lastIndex 属性的作用"><!--[--><!--]--> 2.13 lastIndex 属性的作用 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_2-14-y模式-粘连修饰符" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="2.14 y模式：粘连修饰符"><!--[--><!--]--> 2.14 y模式：粘连修饰符 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_2-15-原子表基本使用" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="2.15 原子表基本使用"><!--[--><!--]--> 2.15 原子表基本使用 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_2-16-原子表区间匹配" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="2.16 原子表区间匹配"><!--[--><!--]--> 2.16 原子表区间匹配 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_2-17-排除匹配" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="2.17 排除匹配"><!--[--><!--]--> 2.17 排除匹配 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_2-18-正则操作-dom-元素" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="2.18 正则操作 DOM 元素"><!--[--><!--]--> 2.18 正则操作 DOM 元素 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_2-19-原子组" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="2.19 原子组"><!--[--><!--]--> 2.19 原子组 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_2-20-邮箱验证" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="2.20 邮箱验证"><!--[--><!--]--> 2.20 邮箱验证 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_2-21-原子组引用完成替换操作" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="2.21 原子组引用完成替换操作"><!--[--><!--]--> 2.21 原子组引用完成替换操作 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_3-再深入一下正则" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="3. 再深入一下正则"><!--[--><!--]--> 3. 再深入一下正则 <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_3-1-嵌套分组与不记录组" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="3.1 嵌套分组与不记录组"><!--[--><!--]--> 3.1 嵌套分组与不记录组 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_3-2-密码验证-多个正则验证" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="3.2 密码验证-多个正则验证"><!--[--><!--]--> 3.2 密码验证-多个正则验证 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_3-3-禁止贪婪" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="3.3 禁止贪婪"><!--[--><!--]--> 3.3 禁止贪婪 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_3-4-matchall-全局匹配" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="3.4 matchAll 全局匹配"><!--[--><!--]--> 3.4 matchAll 全局匹配 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_3-5-search、match-用法" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="3.5 search、match 用法"><!--[--><!--]--> 3.5 search、match 用法 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_3-6-字符串的拆分" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="3.6 字符串的拆分"><!--[--><!--]--> 3.6 字符串的拆分 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_3-7-符在正则替换中的使用" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="3.7 $ 符在正则替换中的使用"><!--[--><!--]--> 3.7 $ 符在正则替换中的使用 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_3-8-的使用-高亮-html-中的某一内容" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="3.8 <!--vuepress-ssr-app-->amp; 的使用(高亮 html 中的某一内容)"><!--[--><!--]--> 3.8 <!--vuepress-ssr-app-->amp; 的使用(高亮 html 中的某一内容) <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_3-9-将-http-加上-s-且加上-www" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="3.9 将 http 加上 s 且加上 www"><!--[--><!--]--> 3.9 将 http 加上 s 且加上 www <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_3-10-原子组别名" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="3.10 原子组别名"><!--[--><!--]--> 3.10 原子组别名 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_3-11-优雅-使用原子组别名优化正则" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="3.11 优雅 - 使用原子组别名优化正则"><!--[--><!--]--> 3.11 优雅 - 使用原子组别名优化正则 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_3-12-正则方法-test" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="3.12 正则方法 test"><!--[--><!--]--> 3.12 正则方法 test <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_3-13-正则方法-exec" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="3.13 正则方法 exec"><!--[--><!--]--> 3.13 正则方法 exec <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_4-正则提高" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="4.正则提高"><!--[--><!--]--> 4.正则提高 <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_4-1-断言匹配-后面是" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="4.1 ?= 断言匹配（后面是）"><!--[--><!--]--> 4.1 ?= 断言匹配（后面是） <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_4-2-使用断言规范价格" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="4.2 使用断言规范价格"><!--[--><!--]--> 4.2 使用断言规范价格 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_4-3-断言匹配-前面是" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="4.3 ?&lt;= 断言匹配（前面是）"><!--[--><!--]--> 4.3 ?&lt;= 断言匹配（前面是） <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_4-4-使用断言模糊电话号" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="4.4 使用断言模糊电话号"><!--[--><!--]--> 4.4 使用断言模糊电话号 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_4-5-断言匹配-后面不是" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="4.5 ?! 断言匹配（后面不是）"><!--[--><!--]--> 4.5 ?! 断言匹配（后面不是） <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_4-6-断言限制用户名关键词" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="4.6 断言限制用户名关键词"><!--[--><!--]--> 4.6 断言限制用户名关键词 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_4-7-断言匹配-前面不是" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="4.7 ?&lt;! 断言匹配（前面不是）"><!--[--><!--]--> 4.7 ?&lt;! 断言匹配（前面不是） <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/docs/regular-expression.html#_4-8-使用断言排除法统一数据" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="4.8 使用断言排除法统一数据"><!--[--><!--]--> 4.8 使用断言排除法统一数据 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li></ul><!--]--><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="正则表达式" tabindex="-1"><a class="header-anchor" href="#正则表达式" aria-hidden="true">#</a> 正则表达式</h1><h2 id="_1-元字符" tabindex="-1"><a class="header-anchor" href="#_1-元字符" aria-hidden="true">#</a> 1.元字符</h2><h3 id="_1-1-限定符" tabindex="-1"><a class="header-anchor" href="#_1-1-限定符" aria-hidden="true">#</a> 1.1 ? 限定符</h3><blockquote><p>used?</p></blockquote><p>可匹配: <code>use</code>、<code>used</code> 作用: <strong>问号前面的 d 字符要出现 0 次或者 1 次</strong>，d 可有可无，且至多出现 1 次 <br></p><h3 id="_1-2-限定符" tabindex="-1"><a class="header-anchor" href="#_1-2-限定符" aria-hidden="true">#</a> 1.2 * 限定符</h3><blockquote><p>ab*c</p></blockquote><p>可匹配: <code>ac</code>、<code>abc</code>、<code>abbbbbbc</code> 作用: <strong><code>* </code> 前面的可以出现 0 次或者多次</strong>，b 可有可无，且至多出现 n 次 <br></p><h3 id="_1-3-限定符" tabindex="-1"><a class="header-anchor" href="#_1-3-限定符" aria-hidden="true">#</a> 1.3 + 限定符</h3><blockquote><p>ab+c</p></blockquote><p>可匹配: <code>abc</code>、<code>abbbbbbc</code>，不可匹配ac 作用: <strong><code>+</code> 前面的可以出现 1 次或者多次</strong>，必须有 b，且可出现 n 次 <br></p><h3 id="_1-4-限定符" tabindex="-1"><a class="header-anchor" href="#_1-4-限定符" aria-hidden="true">#</a> 1.4 {} 限定符</h3><blockquote><p>ab{6}c、ab{2,}</p></blockquote><p>第一个可匹配: <code>abbbbbbc</code> 第二个可匹配: <code>abbbc</code>、<code>abbc</code>、<code>abbbbc</code>... 作用: <strong>限定字符出现的区间</strong><br></p><h3 id="_1-5-限定符-原子组" tabindex="-1"><a class="header-anchor" href="#_1-5-限定符-原子组" aria-hidden="true">#</a> 1.5 () 限定符（原子组）</h3><blockquote><p>(ab)+</p></blockquote><p>可匹配: <code>abababac</code>、<code>abc</code>、<code>ababc</code> 作用: <strong>匹配多次字符串的出现</strong><br></p><h3 id="_1-6-或运算符" tabindex="-1"><a class="header-anchor" href="#_1-6-或运算符" aria-hidden="true">#</a> 1.6 | 或运算符</h3><blockquote><p>a (cat|dog)</p></blockquote><p>可匹配: <code>a cat</code>、<code>a dog</code> 作用: 不言而喻 <br></p><h3 id="_1-7-字符类-原子表" tabindex="-1"><a class="header-anchor" href="#_1-7-字符类-原子表" aria-hidden="true">#</a> 1.7 [] 字符类（原子表）</h3><blockquote><p>[abc]+</p></blockquote><p>可匹配: abc、aabbcc 作用: <strong>只能取方括号里面的字符的字符串</strong></p><blockquote><p>[a-z]+</p></blockquote><p>可匹配: <code>abc</code>、<code>tiger</code>、<code>aabbcc</code>、<code>dog</code></p><blockquote><p>[a-zA-Z]+</p></blockquote><p>可匹配: <code>AbC</code>、<code>aBf</code></p><blockquote><p>[a-zA-Z0-9]+</p></blockquote><p>可匹配: <code>12Ab</code>、<code>3BcC</code><br></p><h3 id="_1-8-限定符-用于原子表" tabindex="-1"><a class="header-anchor" href="#_1-8-限定符-用于原子表" aria-hidden="true">#</a> 1.8 ^ 限定符（用于原子表）</h3><blockquote><p>[^0-9]</p></blockquote><p>可匹配: <code>aBc</code>、<code>a i</code> 作用: <strong>匹配所有的非数字字符</strong><br></p><h3 id="_1-9-d" tabindex="-1"><a class="header-anchor" href="#_1-9-d" aria-hidden="true">#</a> 1.9 \d</h3><blockquote><p>\d+</p></blockquote><p>可匹配: <code>4562318</code>、<code>545</code> 作用: <strong>等同于 <code>[0-9]+</code>，匹配所有数字字符</strong></p><br><h3 id="_1-10-w" tabindex="-1"><a class="header-anchor" href="#_1-10-w" aria-hidden="true">#</a> 1.10 \w</h3><blockquote><p>\w+</p></blockquote><p>可匹配: <code>his name is yuan_xin_yue</code> , <code>he is 12 years old</code> 作用: <strong>匹配所有英文字母、数字加上下划线</strong><br></p><h3 id="_1-11-s" tabindex="-1"><a class="header-anchor" href="#_1-11-s" aria-hidden="true">#</a> 1.11 \s</h3><blockquote><p>\s</p></blockquote><p>可匹配: he<code></code>is<code></code>a<code></code>very<code></code>good<code></code>man 作用: 匹配所有空白符（包括 Tab 和换行符） <br></p><h3 id="_1-12-d、-w、-s" tabindex="-1"><a class="header-anchor" href="#_1-12-d、-w、-s" aria-hidden="true">#</a> 1.12 \D、\W、\S</h3><blockquote><p>\D、\W、\S</p></blockquote><p>作用: <strong>可匹配非数字字符、非单词字符、非空白字符</strong><br></p><h3 id="_1-13-限定符" tabindex="-1"><a class="header-anchor" href="#_1-13-限定符" aria-hidden="true">#</a> 1.13 . 限定符</h3><blockquote><p>.*</p></blockquote><p>可匹配: <code>this is a dog</code>、<code>i think you are right</code> 作用: <strong>可匹配任意字符，除了换行符</strong><br></p><h3 id="_1-14-、-限定符" tabindex="-1"><a class="header-anchor" href="#_1-14-、-限定符" aria-hidden="true">#</a> 1.14 ^、$ 限定符</h3><blockquote><p>^a、b$</p></blockquote><p>第一个可匹配: abc、alook、about、a 第二个可匹配: adfb、ioob、b 作用: <strong>匹配行首行尾的字符</strong><br></p><h3 id="_1-15-b" tabindex="-1"><a class="header-anchor" href="#_1-15-b" aria-hidden="true">#</a> 1.15 \b</h3><blockquote><p>\bthis is a example\b</p></blockquote><p>作用: <strong>标注字符的边界（换行排除了）</strong><br></p><h3 id="_1-16-贪婪与懒惰匹配" tabindex="-1"><a class="header-anchor" href="#_1-16-贪婪与懒惰匹配" aria-hidden="true">#</a> 1.16 贪婪与懒惰匹配</h3><p><strong>贪婪变懒惰实例：</strong></p><blockquote><p>&lt;.+&gt;</p></blockquote><p>可匹配: <code>&lt;span&gt;&lt;b&gt;this is a sample text&lt;/b&gt;&lt;/span&gt;</code> 不匹配&lt;&gt;内字符串原因: <strong>.会匹配任意字符，自然也会匹配&#39; &gt; &#39;这个字符</strong> 修改方法: &lt;.+?&gt;，切换为懒惰匹配</p><br><h2 id="_2-深入正则" tabindex="-1"><a class="header-anchor" href="#_2-深入正则" aria-hidden="true">#</a> 2.深入正则</h2><h3 id="_2-1-正则的一些应用" tabindex="-1"><a class="header-anchor" href="#_2-1-正则的一些应用" aria-hidden="true">#</a> 2.1 正则的一些应用</h3><ol><li><strong>（最简单）提取数字</strong></li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> hd <span class="token operator">=</span> <span class="token string">&#39;houdunren2200hdcms9988&#39;</span>
<span class="token keyword">let</span> nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>hd<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">a</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>nums<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 22009988</span>

<span class="token comment">// 正则表达式</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hd<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\d</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 22009988</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><br><h3 id="_2-2-字面量创建正则表达式" tabindex="-1"><a class="header-anchor" href="#_2-2-字面量创建正则表达式" aria-hidden="true">#</a> 2.2 字面量创建正则表达式</h3><ol><li><code>/正则表达式/.test(字符串)</code>：字面量形式创建正则表达式，返回值为布尔值</li><li>字面量不能查找变量，但是使用 <code>eval(</code>/${a}/<code>).test(字符串)</code> 可以</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> hd <span class="token operator">=</span> <span class="token string">&#39;houdunren.com&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">u</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>hd<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>

<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token string">&#39;u&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">a</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>hd<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// false，不能查变量</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">eval</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>a<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>hd<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><br><h3 id="_2-3-对象创建正则表达式" tabindex="-1"><a class="header-anchor" href="#_2-3-对象创建正则表达式" aria-hidden="true">#</a> 2.3 对象创建正则表达式</h3><ol><li>可以使用变量了：</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> hd <span class="token operator">=</span> <span class="token string">&#39;houdunren.com&#39;</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token string">&#39;ou&#39;</span>
<span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token string">&#39;g&#39;</span><span class="token punctuation">)</span> <span class="token comment">// 第一个参数为变量，第二个为匹配方式</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>hd<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol start="2"><li>实战：输入正则或关键词高亮某段字符串：</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> con <span class="token operator">=</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">&#39;请输入要检测的内容，支持正则&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span>con<span class="token punctuation">,</span> <span class="token string">&#39;g&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">)</span>
<span class="token comment">// replace 第一个参数是正则规则，第二个参数是被替换的字符串</span>
div<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> div<span class="token punctuation">.</span>innerHTML<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token parameter">search</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;span style=&quot;color: red&quot;&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>search<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/span&gt;</span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><br><h3 id="_2-4-转义" tabindex="-1"><a class="header-anchor" href="#_2-4-转义" aria-hidden="true">#</a> 2.4 转义</h3><ol><li>对象创建正则表达式缺点：字符串的自动转化：</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> price <span class="token operator">=</span> <span class="token number">23.34</span>
<span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">&#39;\d+\.\d+&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 这里为 false</span>

<span class="token comment">// new RegExp 里面的字符串会自动转换为 (&#39;d+.d+&#39;)</span>
<span class="token keyword">let</span> test <span class="token operator">=</span> <span class="token number">888888</span>@<span class="token number">122192</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>test<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>解决办法：多加一个 <code>\</code></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">&#39;\\d+\\.\\d+&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><ol start="2"><li>字面量创建的字符串里面的转义：</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> url <span class="token operator">=</span> <span class="token string">&#39;https://www.houdunren.com&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">https?:\/\/\w+\.\w+</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><br><h3 id="_2-5-字符边界约束" tabindex="-1"><a class="header-anchor" href="#_2-5-字符边界约束" aria-hidden="true">#</a> 2.5 字符边界约束</h3><ol><li>案例引入：</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> hd <span class="token operator">=</span> <span class="token string">&#39;adf3dsfds&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\d</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>hd<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// false，必须以数字开头</span>
hd <span class="token operator">=</span> <span class="token string">&#39;33&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\d$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>hd<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// false，起始和结束都为某数字，即只有一个数字</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol start="2"><li>如果不加边界约束，纵使限定了类似 <code>{3,6}</code> 指定出现 3-6 次，也能匹配到超过 6 次的字符串。示例代码：</li></ol><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;[name=&quot;user&quot;]&#39;</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;keyup&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> flag <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[a-z]{3,6}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span> <span class="token comment">// 没加 ^$ 的话，asfdsf 都是能匹配成功</span>
        document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;span&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token punctuation">(</span>flag <span class="token operator">?</span> <span class="token string">&#39;正确&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;失败&#39;</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><br><h3 id="_2-6-match-用法" tabindex="-1"><a class="header-anchor" href="#_2-6-match-用法" aria-hidden="true">#</a> 2.6 match 用法</h3><ol><li>当没有指定全局匹配 <code>/g</code>，则匹配成功后返回一个数组（不成功返回 null），数组具体内容如下：</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> hd <span class="token operator">=</span> <span class="token string">&#39;adfsf0sf&#39;</span>
<span class="token keyword">let</span> flag <span class="token operator">=</span> hd<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\d</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token comment">// [&#39;0&#39;, index: 5, input: &#39;adfsf0sf&#39;, groups: undefined]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>flag<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// 0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>flag<span class="token punctuation">.</span>index<span class="token punctuation">)</span> <span class="token comment">// 5</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>flag<span class="token punctuation">.</span>input<span class="token punctuation">)</span> <span class="token comment">// adfsf0sf</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>flag<span class="token punctuation">.</span>groups<span class="token punctuation">)</span> <span class="token comment">// undefined</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ol start="2"><li>当指定全局匹配后，匹配成功则返回一个数组：</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> hd <span class="token operator">=</span> <span class="token string">&#39;houdunren 2020&#39;</span>
<span class="token keyword">let</span> flag <span class="token operator">=</span> hd<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\d</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token comment">// [&#39;2&#39;, &#39;0&#39;, &#39;2&#39;, &#39;0&#39;]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span>flag<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// string</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol start="3"><li>判断是否成功匹配（返回布尔值）：</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> hd <span class="token operator">=</span> <span class="token string">&#39;haodongxi&#39;</span>
<span class="token keyword">let</span> flag <span class="token operator">=</span> hd<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\w</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span>flag<span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><br><h3 id="_2-7-d、-s-实例" tabindex="-1"><a class="header-anchor" href="#_2-7-d、-s-实例" aria-hidden="true">#</a> 2.7 \d、\s 实例</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 元字符</span>
<span class="token keyword">let</span> hd <span class="token operator">=</span> <span class="token string">&#39;houdunren 2020&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hd<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\d</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [&#39;2&#39;, &#39;0&#39;, &#39;2&#39;, &#39;0&#39;]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hd<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\d+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [&#39;2020&#39;]</span>

hd <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">张三:010-99999999,李四:020-88888888</span><span class="token template-punctuation string">`</span></span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hd<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\d{3}-\d{7,8}</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [&#39;010-99999999&#39;, &#39;020-88888888&#39;]</span>

hd <span class="token operator">=</span> <span class="token string">&#39;houdunren 2020&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hd<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\D+</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [&#39;houdunren&#39;, ...]</span>

<span class="token comment">// \s、\S</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\s</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39; hd\n&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\S</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;\nhd&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><br><h3 id="_2-8-w-实例-判断邮箱-判断用户名" tabindex="-1"><a class="header-anchor" href="#_2-8-w-实例-判断邮箱-判断用户名" aria-hidden="true">#</a> 2.8 \w 实例：判断邮箱 / 判断用户名</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">let</span> email <span class="token operator">=</span> <span class="token string">&#39;23012@qq.com&#39;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>email<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\w+@\w+\.\w+$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment">// 输入开头为字母的字符串，最短 5 个字符，最长 10 个字符</span>
    <span class="token keyword">let</span> username <span class="token operator">=</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">&#39;请输入用户名：&#39;</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[a-z]\w{4,9}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">)</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><br><h3 id="_2-9-精巧地匹配所有字符" tabindex="-1"><a class="header-anchor" href="#_2-9-精巧地匹配所有字符" aria-hidden="true">#</a> 2.9 精巧地匹配所有字符</h3><blockquote><p>[\s\S]、[\d\D] 这样子的原子表，可以精巧地匹配所有字符，弥补了 <code>.</code> 修饰符不能匹配换行符的问题</p></blockquote><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">let</span> hd <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &lt;span&gt;
      houdunren @@@@
      hdcms
    &lt;/span&gt;  
  </span><span class="token template-punctuation string">`</span></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hd<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&lt;span&gt;[\s\S]+&lt;\/span&gt;</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// 全部匹配了，包括换行符</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hd<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.+</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// 没有全部匹配，不包括换行符</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><br><h3 id="_2-10-i-与-g-模式修正符" tabindex="-1"><a class="header-anchor" href="#_2-10-i-与-g-模式修正符" aria-hidden="true">#</a> 2.10 i 与 g 模式修正符</h3><ul><li><code>i</code>：不区分大小写</li><li><code>g</code>：全局匹配</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
    <span class="token keyword">let</span> hd <span class="token operator">=</span> <span class="token string">&#39;hoUdUnren&#39;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hd<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">u</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// null</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hd<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">u</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 匹配成功，不区分大小写</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hd<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">U</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [&#39;U&#39;, &#39;U&#39;]</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hd<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">u</span><span class="token regex-delimiter">/</span><span class="token regex-flags">ig</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [&#39;U&#39;, &#39;U&#39;]</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hd<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">u</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gi</span></span><span class="token punctuation">,</span> <span class="token string">&#39;@&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ho@d@nren</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><br><h3 id="_2-11-m-多行匹配修正符-优雅" tabindex="-1"><a class="header-anchor" href="#_2-11-m-多行匹配修正符-优雅" aria-hidden="true">#</a> 2.11 m 多行匹配修正符（优雅）</h3><ul><li><code>m</code>：多行匹配</li></ul><hr><p><strong>重要思路：</strong></p><p>map() 进行遍历时，是能 <strong>返回原数组</strong> 的，且原数组里面每个元素的值是能够修改的。例如：原数组是 [&#39;xxx&#39;, &#39;xxx&#39;, &#39;xxx&#39;]，可以在遍历时将 &#39;xxx&#39; 变成一个对象然后返回，这样原数组就变成了 [{xx: xxx}, {xx: xxx}, {xx: xxx}]</p><hr><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
    <span class="token keyword">let</span> hd <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    #1 js,200元 #
    #2 php,300元 #
    #9 houdunren.com # 后盾人
    #3 node.js,180元 #
  </span><span class="token template-punctuation string">`</span></span>
  <span class="token comment">// [{name: &#39;js&#39;, price: &#39;200元&#39;}]</span>
  <span class="token comment">// 下述匹配有几个问题：&#39;.+&#39; 包括后面的 &#39;#&#39;，\s 包括第二行的空格</span>
  <span class="token comment">// console.log(hd.match(/\s*#\d+\s+.+\s+#\s/g))</span>
  <span class="token comment">// 多行匹配，每一行单独对待，成功匹配 #1 #2 #3 的内容</span>
  <span class="token keyword">let</span> lessons <span class="token operator">=</span> hd<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\s*#\d+\s+.+\s+#$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gm</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">v</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    v <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\s*#\d+\s*</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\s+#</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
    <span class="token comment">// console.log(v) // &quot;xx,xxx&quot; 样式的字符串</span>
    <span class="token comment">// console.log(v.split(&#39;,&#39;)) // [xx,xxx] 样式的数组</span>
    <span class="token keyword">let</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span> price<span class="token punctuation">]</span> <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;,&#39;</span><span class="token punctuation">)</span> <span class="token comment">// 相当于 name: &#39;xxx&#39;, price: &#39;xxx&#39;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>name<span class="token punctuation">,</span> price<span class="token punctuation">}</span> <span class="token comment">// 将原先[&#39;xxx&#39;, &#39;xxx&#39;, &#39;xxx&#39;] 中的 &#39;xxx&#39; 变成一个 {xxx: xxx, xxx: xxx}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token comment">// console.log(lessons)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>lessons<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token comment">/*
  输出结果：
  [
    {
      &quot;name&quot;: &quot;js&quot;,
      &quot;price&quot;: &quot;200元&quot;
    },
    {
      &quot;name&quot;: &quot;php&quot;,
      &quot;price&quot;: &quot;300元&quot;
    },
    {
      &quot;name&quot;: &quot;node.js&quot;,
      &quot;price&quot;: &quot;180元&quot;
    }
  ]
  */</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><hr><p><strong>无注释版：</strong></p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">let</span> hd <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    #1 js,200元 #
    #2 php,300元 #
    #9 houdunren.com # 后盾人
    #3 node.js,180元 #
  </span><span class="token template-punctuation string">`</span></span>
  <span class="token keyword">let</span> lessons <span class="token operator">=</span> hd<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\s*#\w+\s+.+\s+#$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gm</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">v</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    v <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\s*#\d+\s*</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\s*#</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span> price<span class="token punctuation">]</span> <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;,&#39;</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>name<span class="token punctuation">,</span> price<span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>lessons<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><br><h3 id="_2-12-汉字与字符属性-u" tabindex="-1"><a class="header-anchor" href="#_2-12-汉字与字符属性-u" aria-hidden="true">#</a> 2.12 汉字与字符属性 /u</h3><ol><li>匹配类别“字母”中的单个代码点：<code>/p{L}/gu</code></li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> hd <span class="token operator">=</span> <span class="token string">&#39;houdunren2010.不断发布教程，加油！@@@3&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hd<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\p{L}</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gu</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [&#39;h&#39;, &#39;o&#39;, &#39;u&#39;, &#39;d&#39;, &#39;u&#39;, &#39;n&#39;, &#39;r&#39;, &#39;e&#39;, &#39;n&#39;, &#39;不&#39;, &#39;断&#39;, &#39;发&#39;, &#39;布&#39;, &#39;教&#39;, &#39;程&#39;, &#39;加&#39;, &#39;油&#39;]</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="2"><li>匹配符号：<code>/p{P}/gu</code></li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> hd <span class="token operator">=</span> <span class="token string">&#39;houdunren2010.不断发布教程，加油！@@@3&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hd<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\p{P}</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gu</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [&#39;.&#39;, &#39;，&#39;, &#39;！&#39;, &#39;@&#39;, &#39;@&#39;, &#39;@&#39;]</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="3"><li>匹配汉字、片假名：（具体查看：<a href="https://www.unicode.org/standard/supported.html" target="_blank" rel="noopener noreferrer">支持的脚本 (unicode.org)<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a>）</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> hd <span class="token operator">=</span> <span class="token string">&#39;houdunren2010.不断发布教程，加油！@@@3&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hd<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\p{sc=Han}</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gu</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [&#39;不&#39;, &#39;断&#39;, &#39;发&#39;, &#39;布&#39;, &#39;教&#39;, &#39;程&#39;, &#39;加&#39;, &#39;油&#39;]</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><br><h3 id="_2-13-lastindex-属性的作用" tabindex="-1"><a class="header-anchor" href="#_2-13-lastindex-属性的作用" aria-hidden="true">#</a> 2.13 lastIndex 属性的作用</h3><blockquote><p>lastIndex：设置正则表达式开始搜索的位置</p></blockquote><ol><li><p>每使用一次 <code>reg.exec(&#39;xxx&#39;)</code>，就能获得一个匹配值及其 index、input 等属性，再次使用能获得下一个匹配值及属性，同时 lastIndex 也会自动加一，若未获得下一个匹配值则返回 null 且重置 lastIndex 为 0（<strong>一定要开启全局匹配！</strong>）</p></li><li><p>利用 <code>xx.match(/\w/g)</code> 进行匹配后，得到的是一个数组，找不到 匹配字符串 input、匹配的下标 index、group 等属性，若想要得到这些详细属性，可以利用 lastIndex：</p></li></ol><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">let</span> hd <span class="token operator">=</span> <span class="token string">&#39;houdunren&#39;</span>
    <span class="token comment">// console.log(hd.match(/\w/g)) // 这个匹配的是一个数组，没有 index、input、group 等属性</span>
    <span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\w</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span>
    <span class="token comment">// 每执行一次 exec，就输出一个匹配的值</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span> <span class="token comment">// 0</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>hd<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [&#39;h&#39;, index: 0, input: &#39;houdunren&#39;, groups: undefined]</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span> <span class="token comment">// 1</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>hd<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [&#39;o&#39;, index: 0, input: &#39;houdunren&#39;, groups: undefined]</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span> <span class="token comment">// 2</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>hd<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [&#39;u&#39;, index: 0, input: &#39;houdunren&#39;, groups: undefined]</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">let</span> hd <span class="token operator">=</span> <span class="token string">&#39;houdunren&#39;</span>
    <span class="token comment">// console.log(hd.match(/\w/g)) // 这个匹配的是一个数组，没有 index、input、group 等属性</span>
    <span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\w</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>res <span class="token operator">=</span> reg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>hd<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
      <span class="token comment">/*
      输出：
      [&#39;h&#39;, index: 0, input: &#39;houdunren&#39;, groups: undefined]
      [&#39;o&#39;, index: 1, input: &#39;houdunren&#39;, groups: undefined]
      [&#39;u&#39;, index: 2, input: &#39;houdunren&#39;, groups: undefined]
      [&#39;d&#39;, index: 3, input: &#39;houdunren&#39;, groups: undefined]
      [&#39;u&#39;, index: 4, input: &#39;houdunren&#39;, groups: undefined]
      [&#39;n&#39;, index: 5, input: &#39;houdunren&#39;, groups: undefined]
      [&#39;r&#39;, index: 6, input: &#39;houdunren&#39;, groups: undefined]
      [&#39;e&#39;, index: 7, input: &#39;houdunren&#39;, groups: undefined]
      [&#39;n&#39;, index: 8, input: &#39;houdunren&#39;, groups: undefined]
      */</span>
    <span class="token punctuation">}</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><br><h3 id="_2-14-y模式-粘连修饰符" tabindex="-1"><a class="header-anchor" href="#_2-14-y模式-粘连修饰符" aria-hidden="true">#</a> 2.14 y模式：粘连修饰符</h3><blockquote><p>y 模式必须要连续符合条件</p></blockquote><ol><li>基本：</li></ol><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">let</span> hd <span class="token operator">=</span> <span class="token string">&#39;udunren&#39;</span>
    <span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">u</span><span class="token regex-delimiter">/</span><span class="token regex-flags">y</span></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>hd<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [&#39;u&#39;, index: 0, input: &#39;udunren&#39;, groups: undefined]</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span> <span class="token comment">// 1</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>hd<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// null</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span> <span class="token comment">// 0</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ol start="2"><li>进阶：</li></ol><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">let</span> hd <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">我的qq群是：1111111,9999999,8888888888我就是一个学前端的小白，网址是 iamyuan.com</span><span class="token template-punctuation string">`</span></span>
    <span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(\d+),?</span><span class="token regex-delimiter">/</span><span class="token regex-flags">y</span></span>
    reg<span class="token punctuation">.</span>lastIndex <span class="token operator">=</span> <span class="token number">7</span>
    <span class="token comment">// 下面输出结果还包括 input、index 等属性</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>hd<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 1111111</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>hd<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 9999999</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>hd<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 8888888888</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>hd<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// null</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><ol start="3"><li>最终：</li></ol><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">let</span> hd <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">我的qq群是：1111111,9999999,8888888888我就是一个学前端的小白，网址是 iamyuan.com</span><span class="token template-punctuation string">`</span></span>
    <span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(\d+),?</span><span class="token regex-delimiter">/</span><span class="token regex-flags">y</span></span>
    reg<span class="token punctuation">.</span>lastIndex <span class="token operator">=</span> <span class="token number">7</span>
    <span class="token keyword">let</span> qq <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>res <span class="token operator">=</span> reg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>hd<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      qq<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>res<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>qq<span class="token punctuation">)</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><br><h3 id="_2-15-原子表基本使用" tabindex="-1"><a class="header-anchor" href="#_2-15-原子表基本使用" aria-hidden="true">#</a> 2.15 原子表基本使用</h3><p>xxxx-xx-xx 与 xxxx/xx/xx 形式匹配：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> tel <span class="token operator">=</span> <span class="token string">&#39;2022/03/23&#39;</span>
<span class="token comment">// let tel = &#39;2022-03-23&#39;</span>
<span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\d{4}[-\/]\d{2}[-\/]\d{2}$</span><span class="token regex-delimiter">/</span></span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tel<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>上面匹配仍有问题，因为 xxxx-xx/xx 的形式也能匹配到，应该修改为：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\d{4}([-\/])\d{2}\1\d{2}$</span><span class="token regex-delimiter">/</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><br><h3 id="_2-16-原子表区间匹配" tabindex="-1"><a class="header-anchor" href="#_2-16-原子表区间匹配" aria-hidden="true">#</a> 2.16 原子表区间匹配</h3><p>原子表区间 &amp;&amp; 贪婪匹配实例：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> hd <span class="token operator">=</span> <span class="token string">&#39;houdunren&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hd<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[a-z]</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [&#39;h&#39;, &#39;o&#39;, &#39;u&#39;, &#39;d&#39;, &#39;u&#39;, &#39;n&#39;, &#39;r&#39;, &#39;e&#39;, &#39;n&#39;]</span>
<span class="token comment">// 贪婪匹配</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hd<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[a-z]+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [&#39;houdunren&#39;]</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>匹配字母开头、后跟字母数字下划线案例：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 以字母开始，后跟字母数字下划线皆可</span>
<span class="token keyword">let</span> input <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">[name=&quot;username&quot;]</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
input<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;keyup&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[a-z]\w{3,6}$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><br><h3 id="_2-17-排除匹配" tabindex="-1"><a class="header-anchor" href="#_2-17-排除匹配" aria-hidden="true">#</a> 2.17 排除匹配</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> hd <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">张三:010-99999999,李四:020-88888888</span><span class="token template-punctuation string">`</span></span>
<span class="token comment">// 排除方法得到中文</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hd<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[^\d:\-,]+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [&#39;张三&#39;,&#39;李四&#39;]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hd<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\p{sc=Han}+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gu</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [&#39;张三&#39;,&#39;李四&#39;]</span>

hd <span class="token operator">=</span> <span class="token string">&#39;(houdunren).+&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hd<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[()]</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gi</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 匹配括号</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hd<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[.+]</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gi</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 匹配点和加号</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><br><h3 id="_2-18-正则操作-dom-元素" tabindex="-1"><a class="header-anchor" href="#_2-18-正则操作-dom-元素" aria-hidden="true">#</a> 2.18 正则操作 DOM 元素</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>后盾人<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>houdunren.com<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>hdcms.com<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// 把标题元素删除</span>
  <span class="token keyword">let</span> body <span class="token operator">=</span> document<span class="token punctuation">.</span>body
  <span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&lt;(h[1-6])&gt;[\s\S]*&lt;\/\1&gt;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">ig</span></span>
  body<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> body<span class="token punctuation">.</span>innerHTML<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><br><h3 id="_2-19-原子组" tabindex="-1"><a class="header-anchor" href="#_2-19-原子组" aria-hidden="true">#</a> 2.19 原子组</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> hd <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &lt;h1&gt;houdunren&lt;/h1&gt;
    &lt;h2&gt;hdcms&lt;/h2&gt;
  </span><span class="token template-punctuation string">`</span></span>
<span class="token comment">// 设立了原子组后，自动将组名设定为 \1 \2 \3...</span>
<span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&lt;(h[1-6])&gt;[\s\S]*&lt;\/\1&gt;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">ig</span></span> <span class="token comment">// [&#39;&lt;h1&gt;houdunren&lt;/h1&gt;&#39;, &#39;&lt;h2&gt;hdcms&lt;/h2&gt;&#39;]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hd<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><br><h3 id="_2-20-邮箱验证" tabindex="-1"><a class="header-anchor" href="#_2-20-邮箱验证" aria-hidden="true">#</a> 2.20 邮箱验证</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> mail <span class="token operator">=</span> document
<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">[name=&#39;mail&#39;]</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;keyup&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[\w-]+@([\w-]+\.)+(com|org|cc|cn|net)$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span>
    document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;span&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span>
        <span class="token operator">?</span> <span class="token string">&#39;正确的&#39;</span>
    <span class="token operator">:</span> <span class="token string">&#39;错误的&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><br><h3 id="_2-21-原子组引用完成替换操作" tabindex="-1"><a class="header-anchor" href="#_2-21-原子组引用完成替换操作" aria-hidden="true">#</a> 2.21 原子组引用完成替换操作</h3><p>替换 h2 标签为 p 标签：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> hd <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  &lt;h1&gt;houdunren&lt;/h1&gt;
  &lt;span&gt;后盾人&lt;/span&gt;
  &lt;h2&gt;hdcms&lt;/h2&gt;
</span><span class="token template-punctuation string">`</span></span>
<span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&lt;(h[1-6])&gt;([\s\S]+)&lt;\/\1&gt;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">ig</span></span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hd<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;p&gt;$2&lt;/p&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 这里的 $2 就是第二个原子组 ([\s\S]+)</span>
<span class="token comment">/*
  输出：
    &lt;p&gt;houdunren&lt;/p&gt;
    &lt;span&gt;后盾人&lt;/span&gt;
    &lt;p&gt;hdcms&lt;/p&gt;
*/</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>原子组的下标只要从左往右数就好了</p><p><code>str.replace(reg , fun)</code> 中，fun 的参数 p0、p1、p2... 分别代表匹配结果、第一个原子组、第二个原子组...</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> hd <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  &lt;h1&gt;houdunren&lt;/h1&gt;
  &lt;span&gt;后盾人&lt;/span&gt;
  &lt;h2&gt;hdcms&lt;/h2&gt;
</span><span class="token template-punctuation string">`</span></span>
<span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&lt;(h[1-6])&gt;([\s\S]+)&lt;\/\1&gt;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">ig</span></span>
hd<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">p0<span class="token punctuation">,</span> p1<span class="token punctuation">,</span> p2</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// console.log(p0) // &lt;h1&gt;houdunren&lt;/h1&gt; &lt;h2&gt;hdcms&lt;/h2&gt;，匹配的结果</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span> <span class="token comment">// h1 h2 第一个原子组</span>
    <span class="token comment">// console.log(p2) // houdunren hdcms // 第二个原子组</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><br><h2 id="_3-再深入一下正则" tabindex="-1"><a class="header-anchor" href="#_3-再深入一下正则" aria-hidden="true">#</a> 3. 再深入一下正则</h2><h3 id="_3-1-嵌套分组与不记录组" tabindex="-1"><a class="header-anchor" href="#_3-1-嵌套分组与不记录组" aria-hidden="true">#</a> 3.1 嵌套分组与不记录组</h3><blockquote><p>当正则有两个或以上的原子组，在使用 replace 的回调函数中的第二个、第三个、...参数时，若想忽略其中某一个原子组，只需要在括号里面面加上 <code>?:</code>，如 <code>(?:com|org|cn)</code>；此外，该方法在 replace 方法的第二个参数也能起作用，如 <code>hd.replace(reg, &#39;&lt;p&gt;$2&lt;/p&gt;&#39;)</code></p></blockquote><p>当不想记录某些组，就可以加上 ?: 忽略之：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">https?:\/\/((?:w+\.)?\w+\.(?:com|org|cn))</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span>
<span class="token comment">// 忽略了 www. 这一个原子组</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>hd<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [&#39;https://www.baidu.com&#39;, &#39;www.baidu.com&#39;, index: 5, input: &#39;\n    https://www.baidu.com\n    http://baidu.com\n  &#39;, groups: undefined]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hd<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [&#39;https://www.baidu.com&#39;, &#39;www.baidu.com&#39;, index: 5, input: &#39;\n    https://www.baidu.com\n    http://baidu.com\n  &#39;, groups: undefined]</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><hr><p>重要！</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> hd <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
   https://www.baidu.com
    http://baidu.com
    https://hdcms.com
</span><span class="token template-punctuation string">`</span></span>
<span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">https?:\/\/((?:w+\.)?\w+\.(?:com|org|cn))</span><span class="token regex-delimiter">/</span><span class="token regex-flags">ig</span></span>

<span class="token keyword">let</span> urls <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token comment">// 使用 reg.exec 是为了获得有详细信息的数组</span>
<span class="token comment">// res[0] 是匹配后的原结果，没有过滤原子组</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>res <span class="token operator">=</span> reg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>hd<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    urls<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>res<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>urls<span class="token punctuation">)</span> <span class="token comment">// [&#39;https://www.baidu.com&#39;, &#39;http://baidu.com&#39;, &#39;https://hdcms.com&#39;]</span>

<span class="token keyword">let</span> urls1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token comment">// res[1] 匹配的是第一个原子组</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>res <span class="token operator">=</span> reg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>hd<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    urls1<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>res<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 第一个原子组</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>urls1<span class="token punctuation">)</span> <span class="token comment">// [&#39;www.baidu.com&#39;, &#39;baidu.com&#39;, &#39;hdcms.com&#39;]</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><br><h3 id="_3-2-密码验证-多个正则验证" tabindex="-1"><a class="header-anchor" href="#_3-2-密码验证-多个正则验证" aria-hidden="true">#</a> 3.2 密码验证-多个正则验证</h3><blockquote><p>思路：可以利用 every 遍历 regs 数组，将 regs 数组的每个成员都 test 一下密码。如果都通过则密码验证通过，否则显示密码错误</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> input <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">[name=&#39;password&#39;]</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
input<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;keyup&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> value <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value
  <span class="token keyword">const</span> regs <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[a-z0-9]{5,10}$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
      <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[A-Z]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[0-9]</span><span class="token regex-delimiter">/</span></span>
  <span class="token punctuation">]</span>
  <span class="token keyword">let</span> state <span class="token operator">=</span> regs<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token parameter">e</span> <span class="token operator">=&gt;</span> e<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>state <span class="token operator">?</span> <span class="token string">&#39;正确&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;密码错误&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><br><h3 id="_3-3-禁止贪婪" tabindex="-1"><a class="header-anchor" href="#_3-3-禁止贪婪" aria-hidden="true">#</a> 3.3 禁止贪婪</h3><p><strong>语法：</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 在启用贪婪的正则式子后面加上 ?，就能使之不贪婪</span>
<span class="token keyword">let</span> hd <span class="token operator">=</span> <span class="token string">&#39;hddd&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">hd{2,3}?</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>hd<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 只能取到 2 个 d</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">hd*?</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>hd<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 取不到 d</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">hd+?</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>hd<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 取到 1 个 d</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">hd??</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>hd<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 取不到 d</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>标签替换的禁止贪婪使用：</strong></p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>houdunren<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>hdcms.com<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>houdunren.com<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">const</span> main <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;main&#39;</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&lt;span&gt;([\s\S]+?)&lt;\/span&gt;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">ig</span></span>
  main<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> main<span class="token punctuation">.</span>innerHTML<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> p1</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// p1 为第一个原子组，v 为匹配到的内容</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;h4 style=&quot;color: red;&quot;&gt;后盾人-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>p1<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/h4&gt;</span><span class="token template-punctuation string">`</span></span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><br><h3 id="_3-4-matchall-全局匹配" tabindex="-1"><a class="header-anchor" href="#_3-4-matchall-全局匹配" aria-hidden="true">#</a> 3.4 matchAll 全局匹配</h3><p>matchAll 用法：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&lt;(h[1-6])&gt;([\s\S]+?)&lt;\/\1&gt;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">ig</span></span>
<span class="token keyword">const</span> body <span class="token operator">=</span> document<span class="token punctuation">.</span>body
<span class="token comment">// 使用 match 得不到匹配结果的详细信息，故采用 matchAll，它可以生成一个迭代器（可遍历）</span>
<span class="token keyword">const</span> hd <span class="token operator">=</span> body<span class="token punctuation">.</span>innerHTML<span class="token punctuation">.</span><span class="token function">matchAll</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span>
<span class="token keyword">let</span> contents <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token comment">// 遍历的每一个元素具有完整信息</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> iterator <span class="token keyword">of</span> hd<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  contents<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>iterator<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">table</span><span class="token punctuation">(</span>contents<span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>适配低版本浏览器 - 方法一：递归</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>houdunren<span class="token punctuation">.</span>com<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>hdcms<span class="token punctuation">.</span>com<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>后盾人<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token comment">// matchAll</span>
  <span class="token class-name">String</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">matchAll</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">reg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>res<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#39;^&#39;</span><span class="token punctuation">.</span><span class="token function">repeat</span><span class="token punctuation">(</span>res<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token keyword">let</span> match <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">matchAll</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
      <span class="token keyword">return</span> <span class="token punctuation">[</span>res<span class="token punctuation">,</span> <span class="token operator">...</span>match<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> body <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;body&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML
  <span class="token keyword">let</span> search <span class="token operator">=</span> body<span class="token punctuation">.</span><span class="token function">matchAll</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&lt;(h[1-6])&gt;[\s\S]+?&lt;\/\1&gt;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>search<span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>方法二：</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>houdunren.com<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>hdcms.com<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>后盾人<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">function</span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token parameter">string<span class="token punctuation">,</span> reg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>res <span class="token operator">=</span> reg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> result
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> matchs <span class="token operator">=</span> <span class="token function">search</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>innerHTML<span class="token punctuation">,</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(h[1-6])[\s\S]+?&lt;\/\1&gt;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">ig</span></span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matchs<span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><br><h3 id="_3-5-search、match-用法" tabindex="-1"><a class="header-anchor" href="#_3-5-search、match-用法" aria-hidden="true">#</a> 3.5 search、match 用法</h3><p><strong>search 基本用法</strong>：返回索引值</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 字符串</span>
<span class="token keyword">let</span> hd <span class="token operator">=</span> <span class="token string">&#39;houdunren.com&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hd<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token string">&#39;h&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 0</span>

<span class="token comment">// 正则表达式</span>
<span class="token keyword">let</span> hd <span class="token operator">=</span> <span class="token string">&#39;houdunren.com&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hd<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">u</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 2</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>match 基本用法</strong>：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> hd <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  https://hdcms.com
  https://www.sina.com.cn
  https://www.houdunren.com
</span><span class="token template-punctuation string">`</span></span>
<span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">https?:\/\/(?:\w+\.)?(?:\w+\.)+(?:com|cn|org|cc)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">ig</span></span>
<span class="token comment">// let matches = hd.matchAll(reg)</span>
<span class="token comment">// for (iterator of matches) {</span>
<span class="token comment">//   console.log(iterator)</span>
<span class="token comment">// }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hd<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [&#39;https://hdcms.com&#39;, &#39;https://www.sina.com.cn&#39;, &#39;https://www.houdunren.com&#39;]</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><br><h3 id="_3-6-字符串的拆分" tabindex="-1"><a class="header-anchor" href="#_3-6-字符串的拆分" aria-hidden="true">#</a> 3.6 字符串的拆分</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> hd <span class="token operator">=</span> <span class="token string">&#39;2020/09/12&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hd<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[-\/]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [&#39;2020&#39;, &#39;09&#39;, &#39;12&#39;]</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><br><h3 id="_3-7-符在正则替换中的使用" tabindex="-1"><a class="header-anchor" href="#_3-7-符在正则替换中的使用" aria-hidden="true">#</a> 3.7 $ 符在正则替换中的使用</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> hd <span class="token operator">=</span> <span class="token string">&#39;(010)99999999 (020)8888888&#39;</span>
<span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\((\d{3,4})\)(\d{7,8})</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hd<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token string">&#39;$1-$2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 010-99999999 020-8888888</span>

hd <span class="token operator">=</span> <span class="token string">&#39;=后盾人=&#39;</span>
<span class="token comment">// <!--vuepress-ssr-app-->amp; 就是匹配到的内容</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hd<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">后盾人</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">&#39;<!--vuepress-ssr-app-->amp;-bilibili&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// =后盾人-bilibili=</span>

hd <span class="token operator">=</span> <span class="token string">&#39;%后盾人==&#39;</span>
<span class="token comment">// <!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.26">
    <link rel="icon" href="/images/favicon.ico"><title>正则表达式 | 学无止境</title><meta name="description" content="我的技术站">
    <link rel="preload" href="/docs/assets/js/runtime~app.1f19ce3a.js" as="script"><link rel="preload" href="/docs/assets/css/styles.50e973a8.css" as="style"><link rel="preload" href="/docs/assets/js/567.e7c588a2.js" as="script"><link rel="preload" href="/docs/assets/js/app.8018ca29.js" as="script">
    <link rel="stylesheet" href="/docs/assets/css/styles.50e973a8.css">
  </head>
  <body>
    <div id="app"> 就是匹配内容的前面的内容</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hd<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">后盾人</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">&#39;<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.26">
    <link rel="icon" href="/images/favicon.ico"><title>正则表达式 | 学无止境</title><meta name="description" content="我的技术站">
    <link rel="preload" href="/docs/assets/js/runtime~app.1f19ce3a.js" as="script"><link rel="preload" href="/docs/assets/css/styles.50e973a8.css" as="style"><link rel="preload" href="/docs/assets/js/567.e7c588a2.js" as="script"><link rel="preload" href="/docs/assets/js/app.8018ca29.js" as="script">
    <link rel="stylesheet" href="/docs/assets/css/styles.50e973a8.css">
  </head>
  <body>
    <div id="app">&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// %%==</span>
<span class="token comment">// <!--vuepress-ssr-app-->#39; 就是匹配内容的后面的内容</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hd<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">后盾人</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">&quot;<!--vuepress-ssr-app-->#39;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// %====</span>

<span class="token comment">// 总结</span>
hd <span class="token operator">=</span> <span class="token string">&#39;=后盾人=&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hd<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">后盾人</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">&quot;<!--vuepress-ssr-app-->#39;<!--vuepress-ssr-app-->#39;<!--vuepress-ssr-app-->amp;<!--vuepress-ssr-app-->#39;<!--vuepress-ssr-app-->#39;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ===后盾人===</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><br><h3 id="_3-8-的使用-高亮-html-中的某一内容" tabindex="-1"><a class="header-anchor" href="#_3-8-的使用-高亮-html-中的某一内容" aria-hidden="true">#</a> 3.8 <!--vuepress-ssr-app-->amp; 的使用(高亮 html 中的某一内容)</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> main <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;body main&#39;</span><span class="token punctuation">)</span>
main<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> main<span class="token punctuation">.</span>innerHTML<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">教育</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;a href=&quot;https://www.baidu.com&quot;&gt;<!--vuepress-ssr-app-->amp;&lt;/a&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><br><h3 id="_3-9-将-http-加上-s-且加上-www" tabindex="-1"><a class="header-anchor" href="#_3-9-将-http-加上-s-且加上-www" aria-hidden="true">#</a> 3.9 将 http 加上 s 且加上 www</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://hdcms.com<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      开源系统
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>l1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://houdunren.com<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>后盾人<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://yahoo.com<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>雅虎<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span>http://www.hdcms.com<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// 将 http 变成 https，将没有 www 加上 www，只对 hdcms 和 houdunren 有效</span>
  <span class="token keyword">const</span> main <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;body main&#39;</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(&lt;a.*href=[&#39;&quot;])(http)(:\/\/)(www\.)?(hdcms|houdunren)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">ig</span></span>
  main<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> main<span class="token punctuation">.</span>innerHTML<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> <span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    args<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">+=</span><span class="token string">&#39;s&#39;</span>
    args<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> args<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token string">&#39;www.&#39;</span>
    <span class="token keyword">return</span> args<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><br><h3 id="_3-10-原子组别名" tabindex="-1"><a class="header-anchor" href="#_3-10-原子组别名" aria-hidden="true">#</a> 3.10 原子组别名</h3><blockquote><p>在原子组括号里最前面加上 <code>?&lt;xxx&gt;</code>，其中 xxx 就是该原子组的别名</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> hd <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  &lt;h1&gt;houdunren&lt;/h1&gt;
  &lt;span&gt;后盾人&lt;/span&gt;
  &lt;h2&gt;hdcms&lt;/h2&gt;
</span><span class="token template-punctuation string">`</span></span>
<span class="token comment">// ?&lt;随便命名&gt; - 给组命名</span>
<span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&lt;(h[1-6])&gt;(?&lt;content&gt;.*?)&lt;\/\1&gt;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gi</span></span>
<span class="token comment">// console.log(hd.replace(reg, &#39;&lt;h4&gt;$2&lt;/h4&gt;&#39;))</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hd<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token string">&#39;&lt;h4&gt;<!--vuepress-ssr-app-->lt;content&gt;&lt;/h4&gt;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><br><h3 id="_3-11-优雅-使用原子组别名优化正则" tabindex="-1"><a class="header-anchor" href="#_3-11-优雅-使用原子组别名优化正则" aria-hidden="true">#</a> 3.11 优雅 - 使用原子组别名优化正则</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hd<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://www.houdunren.com<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>后盾人<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://www.hdcms.com<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>hdcms<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://www.sina.com.cn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>新浪<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// [{link:&#39;&#39;,title:&#39;&#39;}]</span>
  <span class="token keyword">const</span> main <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;body main&#39;</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&lt;a.*?href=([&#39;&quot;])(?&lt;link&gt;.*)\1&gt;(?&lt;title&gt;.*?)&lt;\/a&gt;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">ig</span></span>
  <span class="token keyword">const</span> links <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> iterator <span class="token keyword">of</span> main<span class="token punctuation">.</span>innerHTML<span class="token punctuation">.</span><span class="token function">matchAll</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    links<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>iterator<span class="token punctuation">[</span><span class="token string">&#39;groups&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>links<span class="token punctuation">)</span>
  <span class="token comment">/* 数组形式
  0: {link: &#39;https://www.houdunren.com&#39;, title: &#39;后盾人&#39;}
  1: {link: &#39;https://www.hdcms.com&#39;, title: &#39;hdcms&#39;}
  2: {link: &#39;https://www.sina.com.cn&#39;, title: &#39;新浪&#39;}
  */</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><br><h3 id="_3-12-正则方法-test" tabindex="-1"><a class="header-anchor" href="#_3-12-正则方法-test" aria-hidden="true">#</a> 3.12 正则方法 test</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 字符串方法：match matchAll search replace</span>
<span class="token keyword">const</span> mail <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">[name=&#39;email&#39;]</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
mail<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;keyup&#39;</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> value <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value
  <span class="token keyword">let</span> flag <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[\w-]+@(\w+\.)+(com|org|cn)$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><br><h3 id="_3-13-正则方法-exec" tabindex="-1"><a class="header-anchor" href="#_3-13-正则方法-exec" aria-hidden="true">#</a> 3.13 正则方法 exec</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">后盾人</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span>
<span class="token keyword">const</span> main <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;body main&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>res <span class="token operator">=</span> reg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>main<span class="token punctuation">.</span>innerHTML<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  count<span class="token operator">++</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span> <span class="token comment">// 2</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><br><h2 id="_4-正则提高" tabindex="-1"><a class="header-anchor" href="#_4-正则提高" aria-hidden="true">#</a> 4.正则提高</h2><h3 id="_4-1-断言匹配-后面是" tabindex="-1"><a class="header-anchor" href="#_4-1-断言匹配-后面是" aria-hidden="true">#</a> 4.1 ?= 断言匹配（后面是）</h3><blockquote><p>断言放在前面或后面表示在这个地方必须要有断言里的值，否则不匹配</p></blockquote><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span><span class="token punctuation">&gt;</span></span>
    后盾人不断分享视频教程，学习后盾人教程提升编程能力
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">let</span> main <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;main&#39;</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">后盾人(?=教程)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span>
  main<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> main<span class="token punctuation">.</span>innerHTML<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;a href=&quot;https://houdunren.com&quot;&gt;<!--vuepress-ssr-app-->amp;&lt;/a&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
  <span class="token comment">/*
  结果：左右有空格的 后盾人 变成可点击链接
  后盾人不断分享视频教程，学习 后盾人 教程提升编程能力
  */</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><br><h3 id="_4-2-使用断言规范价格" tabindex="-1"><a class="header-anchor" href="#_4-2-使用断言规范价格" aria-hidden="true">#</a> 4.2 使用断言规范价格</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 使价格都成为 xxx.00 的格式</span>
<span class="token keyword">let</span> lessons <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  js,200元,300次
  php,300.00元,100次
  node.js,180元，260次
</span><span class="token template-punctuation string">`</span></span>
<span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(\d+)(.00)?(?=元)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">ig</span></span>
lessons <span class="token operator">=</span> lessons<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> <span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  args<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> args<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token string">&#39;.00&#39;</span>
  <span class="token keyword">return</span> args<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>lessons<span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><br><h3 id="_4-3-断言匹配-前面是" tabindex="-1"><a class="header-anchor" href="#_4-3-断言匹配-前面是" aria-hidden="true">#</a> 4.3 ?&lt;= 断言匹配（前面是）</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://baidu.com<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>百度<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://yahoo.com<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>雅虎<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">const</span> main <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;main&#39;</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?&lt;=href=([&#39;&quot;])).+(?=\1)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">ig</span></span>
  main<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> main<span class="token punctuation">.</span>innerHTML<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token string">&#39;https://www.houdunren.com&#39;</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><br><h3 id="_4-4-使用断言模糊电话号" tabindex="-1"><a class="header-anchor" href="#_4-4-使用断言模糊电话号" aria-hidden="true">#</a> 4.4 使用断言模糊电话号</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> users <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  向军电话: 12345678901
  后盾人电话: 98745675603
</span><span class="token template-punctuation string">`</span></span>
<span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?&lt;=\d{7})\d{4}</span><span class="token regex-delimiter">/</span><span class="token regex-flags">ig</span></span>
users <span class="token operator">=</span> users<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token parameter">v</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">&#39;*&#39;</span><span class="token punctuation">.</span><span class="token function">repeat</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span>length<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span>
<span class="token comment">/*
结果：
  向军电话: 1234567****
  后盾人电话: 9874567****
*/</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><br><h3 id="_4-5-断言匹配-后面不是" tabindex="-1"><a class="header-anchor" href="#_4-5-断言匹配-后面不是" aria-hidden="true">#</a> 4.5 ?! 断言匹配（后面不是）</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> hd <span class="token operator">=</span> <span class="token string">&#39;houdunren2010hdcms&#39;</span>
<span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[a-z]+(?!\d+)$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span> <span class="token comment">// 以字母结尾且后面不是数字 hdcms</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hd<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><br><h3 id="_4-6-断言限制用户名关键词" tabindex="-1"><a class="header-anchor" href="#_4-6-断言限制用户名关键词" aria-hidden="true">#</a> 4.6 断言限制用户名关键词</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> input <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">[name=&quot;username&quot;]</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
input<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;keyup&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(?!.*向军.*)[a-z]{5,6}$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span> <span class="token comment">// 从开头到末尾都不能有 向军</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><br><h3 id="_4-7-断言匹配-前面不是" tabindex="-1"><a class="header-anchor" href="#_4-7-断言匹配-前面不是" aria-hidden="true">#</a> 4.7 ?&lt;! 断言匹配（前面不是）</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> hd <span class="token operator">=</span> <span class="token string">&#39;hdcms99houdunren&#39;</span>
<span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?&lt;!\d+)[a-z]+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hd<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// hdcms,...</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><br><h3 id="_4-8-使用断言排除法统一数据" tabindex="-1"><a class="header-anchor" href="#_4-8-使用断言排除法统一数据" aria-hidden="true">#</a> 4.8 使用断言排除法统一数据</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>main<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;https://www.houdunren.com/1.jpg&quot;</span><span class="token operator">&gt;</span><span class="token number">1.</span>jpg<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;https://oss.houdunren.com/2.jpg&quot;</span><span class="token operator">&gt;</span><span class="token number">2.</span>jpg<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;https://cdn.houdunren.com/3.jpg&quot;</span><span class="token operator">&gt;</span><span class="token number">3.</span>jpg<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;https://houdunren.com/4.jpg&quot;</span><span class="token operator">&gt;</span>后盾人<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>main<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token keyword">const</span> main <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;main&#39;</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">https:\/\/([a-z]+)?(?&lt;!oss)\..+?(?=\/)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gi</span></span>
  main<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> main<span class="token punctuation">.</span>innerHTML<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token parameter">v</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&#39;https://oss.houdunren.com&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><!--]--></div><footer class="page-meta"><!----><!----><!----></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script src="/docs/assets/js/runtime~app.1f19ce3a.js" defer></script><script src="/docs/assets/js/567.e7c588a2.js" defer></script><script src="/docs/assets/js/app.8018ca29.js" defer></script>
  </body>
</html>
